<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Template特例" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/19/Template%E7%89%B9%E4%BE%8B/" class="article-date">
  <time class="dt-published" datetime="2020-12-19T06:42:41.495Z" itemprop="datePublished">2020-12-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/19/Template%E7%89%B9%E4%BE%8B/">Template特例</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Template特例"><a href="#Template特例" class="headerlink" title="Template特例"></a>Template特例</h1><h2 id="特例的匹配规则"><a href="#特例的匹配规则" class="headerlink" title="特例的匹配规则"></a>特例的匹配规则</h2><p>同一模版可以有多个特例，匹配更<strong>特殊</strong>的</p>
<h2 id="函数模版的特例与重载"><a href="#函数模版的特例与重载" class="headerlink" title="函数模版的特例与重载"></a>函数模版的特例与重载</h2><p>特例与重载两种相干但不完全等价，导致处理函数模版变得很复杂，为了简化问题，<strong>C++标准中只允许模版声明完全特例，而禁止其声明部分特例</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(T v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义成模版的特例</span></span><br><span class="line"><span class="keyword">template</span>&lt;&gt;</span><br><span class="line"><span class="keyword">void</span> print&lt;<span class="keyword">char</span>&gt;(<span class="keyword">char</span> v)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;\&#x27;&#x27;</span>&lt;&lt; v &lt;&lt; <span class="string">&#x27;\&#x27;&#x27;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 模版特例，模版参数依赖推导</span></span><br><span class="line"><span class="keyword">template</span>&lt;&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&#x27;&quot;&#x27;</span> &lt;&lt; v &lt;&lt; <span class="string">&#x27;&quot;&#x27;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数重载</span></span><br><span class="line"><span class="keyword">inline</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\&#x27;\&#x27;\&#x27;&quot;</span> &lt;&lt; v &lt;&lt; <span class="string">&quot;\&#x27;\&#x27;\&#x27;&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">bool</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; (v ? <span class="string">&quot;true&quot;</span> : <span class="string">&quot;false&quot;</span>) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="分辨重载"><a href="#分辨重载" class="headerlink" title="分辨重载"></a>分辨重载</h2><p><strong>准则1</strong>：两候选函数中如果有一方其形参列表每一个类型与调用实参列表各类型<strong>更匹配</strong>，则淘汰另一个方（人话：调用函数时，调用匹配度最高的特例）<br><strong>准则2</strong>：两函数如果有形参列表类型<strong>同等</strong>匹配实参列表类型时，若<strong>一方为函数模版实例</strong>而<strong>另一方为非模版函数</strong>，则取非模版函数而淘汰函数模版（人话，调用函数时，有对应的函数“不是特例”，就调用它）<br><strong>准则3</strong>：两函数如果其形参列表类型<strong>同等</strong>匹配实参列表类型时，若两者均为函数模版实例，则取更为“<strong>特殊</strong>”的一方而淘汰另一方。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(T v)</span> </span>&#123; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;#1：&quot;</span> &lt;&lt; v &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">float</span> v)</span> </span>&#123; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;#2：&quot;</span> &lt;&lt; v &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">float</span> v)</span> </span>&#123; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;#3：&quot;</span> &lt;&lt; v &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func2</span><span class="params">(<span class="keyword">float</span> v)</span> </span>&#123; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;#4：&quot;</span> &lt;&lt; v &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	func2(<span class="number">1</span>);	<span class="comment">//#4: 1 //func2(float(1));</span></span><br><span class="line">	func(<span class="number">1</span>);	<span class="comment">//#1: 1</span></span><br><span class="line">	func(<span class="number">1.</span>);	<span class="comment">//#1: 1</span></span><br><span class="line">	func(<span class="number">1.f</span>);	<span class="comment">//#3: 1</span></span><br><span class="line">	func&lt;&gt;(<span class="number">1.f</span>);<span class="comment">//#2: 1</span></span><br><span class="line"></span><br><span class="line">	system(<span class="string">&quot;PAUSE&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/19/Template%E7%89%B9%E4%BE%8B/" data-id="ckivc48ri0000hs67earcayg2" data-title="Template特例" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-设计模式" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/19/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="article-date">
  <time class="dt-published" datetime="2020-12-19T06:42:41.493Z" itemprop="datePublished">2020-12-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/19/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">���ģʽ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="L¼"><a href="#L¼" class="headerlink" title="Ŀ¼"></a>Ŀ¼</h3><p><a href="#%C4%A3%EF%BF%BD%E6%B7%BD%EF%BF%BD%EF%BF%BDtemplate-method">ģ�巽��</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BDstrategy">����ģʽ</a><br><a href="#%EF%BF%BD%DB%B2%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BDobserverevent">�۲���ģʽ</a><br><a href="#%D7%B0%EF%BF%BD%EF%BF%BD%C4%A3%CA%BDdecorator">װ��ģʽ</a><br><a href="#%EF%BF%BD%EF%BF%BD%C4%A3%CA%BDbridge">��ģʽ</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BDfactory-method">��������</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%F3%B9%A4%B3%EF%BF%BDabstract-factory">���󹤳�</a><br><a href="#%D4%AD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BDprototype">ԭ��ģʽ</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BDbuilder">������</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BDsingleton">����ģʽ</a><br><a href="#%EF%BF%BD%EF%BF%BD%D4%AA%C4%A3%CA%BDflyweight">��Ԫģʽ</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BDfacade">����ģʽ</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BDproxy">����ģʽ</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BDadapter">������</a><br><a href="#%EF%BF%BD%D0%BD%EF%BF%BD%EF%BF%BD%EF%BF%BDmediator">�н���</a><br><a href="#%D7%B4%CC%AC%C4%A3%CA%BDmemento">״̬ģʽ</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C2%BCstate">����¼</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BDcomposite">���ģʽ</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BDiterator">������</a><br><a href="#%D6%B0%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BDchain-of-responsibility">ְ����</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BDcomman">����ģʽ</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BDvistor">������</a><br><a href="#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BDinterpreter">������</a><br><a href="">�ܽ�</a></p>
<h1 id="����������ԭ��"><a href="#����������ԭ��" class="headerlink" title="����������ԭ��"></a>����������ԭ��</h1><ol>
<li>��������ԭ��DIP��<ul>
<li>�߲�ģ�飨<strong>�ȶ�</strong>������������ڵײ�ģ�飨<strong>�仯</strong>�������߶�Ӧ�������ڳ���<strong>�ȶ�</strong>����</li>
<li>����<strong>�ȶ�</strong>����Ӧ��������ʵ��ϸ�ڣ�<strong>�仯</strong>����ʵ��ϸ��Ӧ�������ڳ���<strong>�ȶ�</strong>����</li>
</ul>
</li>
<li>���ŷ��ԭ��OCP��<ul>
<li>����չ���ţ��Ը��ķ�ա�</li>
<li>��ģ��Ӧ���ǿ���չ�ģ����ǲ����޸ġ�</li>
</ul>
</li>
<li>��һְ��ԭ��SRP��<ul>
<li>һ����Ӣ������һ���������仯��ԭ��</li>
<li>�仯�ķ���������������Ρ�</li>
</ul>
</li>
<li>Liskov�滻ԭ��LSP��<ul>
<li>��������ܹ�ȥ�滻���ǵĻ��ࣨIS-A����</li>
<li>�̳б������ͳ���</li>
</ul>
</li>
<li>�ӿڸ���ԭ��ISP��<ul>
<li>��Ӧ��ǿ�ȿͻ������������ǲ��õķ�����</li>
<li>�ӿ�ӦС���걸��</li>
</ul>
</li>
<li>����ʹ�ö�����ϣ���������̳�<ul>
<li>��̳�ͨ��λ�����临�á����������ͨ��Ϊ�����临�á���</li>
<li>�̳���ĳ�̶ֳ����ƻ��˷�װ�ԣ����ุ����϶ȸߡ�</li>
<li>�����������ֻҪ����ϵĶ���������ö���Ľӿڣ���϶ȵס�</li>
</ul>
</li>
<li>��װ�仯��<ul>
<li>ʹ�÷�װ����������֮��ķֽ�㣬������߿����ڷֽ���һ������޸ģ����������һ�����������Ӱ�죬�Ӷ�ʵ�ֲ�μ������ϡ�</li>
</ul>
</li>
<li>��Խӿڱ�̣����������ʵ�ֱ��<ul>
<li>����������������λĳ��߯���ľ����࣬��������ĳ���ӿڡ�</li>
<li>�ͻ����������ֵ����ľ������ͣ�ֻ��֪�����������еĽӿڡ�</li>
<li>����ϵͳ�и����ֵ�������ϵ���Ӷ�ʵ�֡�<strong>���ھۣ������</strong>����������Ʒ�����</li>
</ul>
</li>
</ol>
<h1 id="���Э��"><a href="#���Э��" class="headerlink" title="���Э��"></a>���Э��</h1><p>�ִ�����״Ҳ�ֹ�֮��ĵ�һ������ǡ������Ӧ�ó���Ļ��֡��������Э����ģʽͨ�����ڰ󶨣���ʵ�ֿ����Ӧ�ó���֮�������ϣ��Ƕ���֮��Э���ǳ��õ�ģʽ��</p>
<ul>
<li>����ģʽ<ul>
<li>Template Method</li>
<li>Stategy</li>
<li>Observer/Event<br><span id = "Template"></span></li>
</ul>
</li>
</ul>
<h3 id="g�淽��-Template-Method"><a href="#g�淽��-Template-Method" class="headerlink" title="ģ�淽��(Template Method)"></a>ģ�淽��(Template Method)</h3><ul>
<li><strong>����</strong><ul>
<li>���������ɹ����У�����һ��������������<strong>�ȶ�</strong>����������ṹ���������Ӳ���ȷ�кܶ�<strong>�ı�</strong>�����󣬻������ڹ��е�ԭ�򣨱����ܵ�Ӧ��֮��Ĺ�ϵ���޷������������ṹͬʱʵ�֡�</li>
<li>�����ȷ��<strong>�ȶ�</strong>�����ṹ��ǰ���£������Ӧ�Ը����Ӳ����<strong>�仯</strong>��������ʵ������<br><img src="/img/%C4%A3%EF%BF%BD%E5%B7%BD%EF%BF%BD%EF%BF%BD/%C4%A3%EF%BF%BD%E5%B7%BD%EF%BF%BD%EF%BF%BD1.png" alt="avatar"><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ����⿪����Ա</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Library</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Step1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// ....</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Step3</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// ....</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Step5</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// ....</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Ӧ�ó��򿪷���Ա</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Application</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">Step2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Step4</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        Library lib;</span><br><span class="line">        Application app;</span><br><span class="line">        lib.Step1();</span><br><span class="line">        <span class="keyword">if</span>(app.Step2())</span><br><span class="line">        &#123;</span><br><span class="line">            lib.Step3();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            app.Step4();</span><br><span class="line">        &#125;</span><br><span class="line">        lib.Step5();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/img/%C4%A3%EF%BF%BD%E5%B7%BD%EF%BF%BD%EF%BF%BD/%C4%A3%EF%BF%BD%E5%B7%BD%EF%BF%BD%EF%BF%BD2.png" alt="avatar"></li>
</ul>
</li>
</ul>
<p><strong>��Ķ�����Library���������ģ�Application���ͽ�����</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ����⿪����Ա</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Library</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Step1();</span><br><span class="line">        <span class="keyword">if</span>(Step2())</span><br><span class="line">        &#123;<span class="comment">// ֧�ֱ仯--&gt;�麯���Ķ�̬����</span></span><br><span class="line">            Step3();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            Step4();<span class="comment">// ֧�ֱ仯--&gt;�麯���Ķ�̬����</span></span><br><span class="line">        &#125;</span><br><span class="line">        Step5();</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">virtual</span> ~Library();</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Step1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;<span class="comment">// �ȶ�</span></span><br><span class="line">        <span class="comment">// ....</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Step3</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;<span class="comment">// �ȶ�</span></span><br><span class="line">        <span class="comment">// ....</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Step5</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;<span class="comment">// �ȶ�</span></span><br><span class="line">        <span class="comment">// ....</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">Step2</span><span class="params">()</span> </span>= <span class="number">0</span>;<span class="comment">// �仯</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Step4</span><span class="params">()</span> </span>= <span class="number">0</span>;<span class="comment">// �仯</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// Ӧ�ó��򿪷���Ա</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Application</span> :</span> <span class="keyword">public</span> Library</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">Step2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//... ������дʵ��</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Step4</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//... ������дʵ��</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        Library* pLib = <span class="keyword">new</span> Application();</span><br><span class="line">        pLib-&gt;run();</span><br><span class="line">        <span class="keyword">delete</span> pLib;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>ģʽ�Ķ���</strong><br>����һ�������е��㷨��<strong>�Ǽ�</strong>��<strong>�ȶ�</strong>��������һЩ�����ӳ٣�<strong>�仯</strong>���������С�Template Methodʹ��������Բ��ı䣨���ã�һ���㷨�Ľṹ����<strong>�ض���</strong>��<strong>override��д</strong>�����㷨��ĳЩ�ض����衣</p>
</li>
<li><p><strong>�ṹ</strong>��ͼ<br><img src="/img/%C4%A3%EF%BF%BD%E5%B7%BD%EF%BF%BD%EF%BF%BD/%C4%A3%EF%BF%BD%E5%B7%BD%EF%BF%BD%EF%BF%BD3.png" alt="avatar"></p>
</li>
<li><p><strong>Ҫ���ܽ�</strong></p>
<ul>
<li>Template Methodģʽ��һ�ַǳ�<strong>����</strong>�Ե����ģʽ�����������ϵͳ�����Ŵ�����Ӧ�á���������Ļ��ƣ�<strong>�麯���Ķ�̬��</strong>��Ϊ�ܶ�Ӧ�ó������ṩ������<strong>��չ��</strong>���Ǵ��븴�õķ���Ļ���ʵ�ֽṹ��</li>
<li>���˿������Ӧ���Ӳ���ı仯�⣬����Ҫ�����ң�Ȼ���������㡱��<strong>������ƽṹ</strong>��Template Method�ĵ���Ӧ�á�</li>
<li>�ھ���ʵ�ַ��棬��Template Method���õ��鷽�����Ծ���ʵ�֣�Ҳ����û���κ�ʵ�֣����󷽷���<strong>���鷽��</strong>������һ���Ƽ����������Ϊ<strong>protected</strong>����</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a><br><span id = "Strategy"></span></p>
<h3 id="����gʽ-Strategy"><a href="#����gʽ-Strategy" class="headerlink" title="����ģʽ(Strategy)"></a>����ģʽ(Strategy)</h3><ul>
<li><strong>����</strong><ul>
<li>���������������У�ĳЩ����ʹ�õ��㷨���ܶ��ֶ����������ı䣬�������Щ�㷨�����뵽�����У�����ʹ�������쳣���ӣ�������ʱ��֧�ֲ����õ��㷨Ҳ��һ�����ܸ�����</li>
<li>���������ʱ������Ҫ͸���ظ��Ķ�����㷨�����㷨�����������Ӷ������������⣿</li>
</ul>
</li>
<li><strong>ģʽ����</strong><ul>
<li>����һϵ���㷨��������һ������װ����������ʹ���ǿͻ����滻��<strong>�仯</strong>������ģʽʹ���㷨��<strong>������</strong>ʹ�����Ŀͻ�����<strong>�ȶ�</strong>�����仯��<strong>��չ�����໯</strong>����<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">TaxBase</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    CN_Tax,</span><br><span class="line">    US_Tax,</span><br><span class="line">    DE_Tax,</span><br><span class="line">    FR_Tax      <span class="comment">//����</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SalesOrder</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    TaxBase tax;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">CalulateTax</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">if</span> (tax == CN_Tax)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// CN******</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(tax == US_Tax)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// US******</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(tax == DE_Tax)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// DE******</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(tax == FR_Tax)  <span class="comment">//����</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// FR******</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Context</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Context() = <span class="keyword">default</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TaxStrategy</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">double</span> <span class="title">Calculate</span><span class="params">(<span class="keyword">const</span> Context &amp;context)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">virtual</span> ~TaxStrategy() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CNTax</span> :</span> <span class="keyword">public</span> TaxStrategy</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">double</span> <span class="title">Calculate</span><span class="params">(<span class="keyword">const</span> Context &amp;context)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// ******</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">USTax</span> :</span> <span class="keyword">public</span> TaxStrategy</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">double</span> <span class="title">Calculate</span><span class="params">(<span class="keyword">const</span> Context &amp;context)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// ******</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DETax</span> :</span> <span class="keyword">public</span> TaxStrategy</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">double</span> <span class="title">Calculate</span><span class="params">(<span class="keyword">const</span> Context &amp;context)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// ******</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SalesOrder</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    TaxStrategy *strategy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    SalesOrder(TaxStrategy *stratetgy) : strategy(strategy) &#123;&#125;</span><br><span class="line">    ~SalesOrder()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> <span class="keyword">this</span>-&gt;strategy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">CalculateTax</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        Context context;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> val = strategy-&gt;Calculate(context); <span class="comment">// ��̬����</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD1.png" alt="avatar"></li>
</ul>
</li>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>Strategy��������Ϊ����ṩ��һϵ�п����õ��㷨���Ӷ�����ʹ��������<strong>����ʱ</strong>����ظ�����Ҫ�ڸ����㷨֮������л���</li>
<li>Strategyģʽ�ṩ���������ж�����������һ��ѡ�����������ж���䣬�����ڽ���ϡ��������������ж����Ĵ���ͨ������ҪStrategyģʽ��</li>
<li>���Strategy����û��ʵ����������ô���������Ŀ��Թ���ͬһ��Strategy���󣬴Ӷ���ʡ��������</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a><br><span id = "Observer"></span></p>
<h3 id="�۲���gʽ-Observer-Event"><a href="#�۲���gʽ-Observer-Event" class="headerlink" title="�۲���ģʽ(Observer/Event)"></a>�۲���ģʽ(Observer/Event)</h3><ul>
<li><strong>����</strong><ul>
<li>���������������У�������ҪΪĳЩ������һ�֡�֪ͨ������ϵ����������һ������Ŀ����󣩵�״̬�����ı䣬���е��������󣨹۲��߶��󣩶����õ�֪ͨ�����������������ϵ���ڽ��ܣ���ʹ�������ܺܺõص����仯��</li>
<li>ʹ����������������Խ�����������ϵ���������γ�һ���ȶ���������ϵ���Ӷ�ʵ��������ϵ�ṹ������ϡ�</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// �ļ��ָ���</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileSplitter</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_filePath;</span><br><span class="line">    <span class="keyword">int</span> m_fileNumber;</span><br><span class="line">    ProgressBar *m_progressBar; <span class="comment">//֪ͨ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    FileSplitter(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;filePath, <span class="keyword">int</span> fileNumber,</span><br><span class="line">                 ProgressBar *progressBar)</span><br><span class="line">        : m_filePath(filePath),</span><br><span class="line">          m_fileNumber(fileNumber),</span><br><span class="line">          m_progressBar(progressBar) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">split</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//1.��ȡ���ļ�</span></span><br><span class="line">        <span class="comment">//2.��������С�ļ���д��</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; m_fileNumber; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//...</span></span><br><span class="line">            <span class="keyword">if</span> (m_progressBar != <span class="literal">nullptr</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                m_progressBar-&gt;setValue((i + <span class="number">1</span>) / m_fileNumber); <span class="comment">//���½�����</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainForm</span> :</span> <span class="keyword">public</span> Form</span><br><span class="line">&#123;</span><br><span class="line">    TextBos *txtFilePath;</span><br><span class="line">    TextBos *txtFileNumber;</span><br><span class="line">    ProgressBar *progressBar;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Button1_Click</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">string</span> filePath = txtFilePath-&gt;getText();</span><br><span class="line">        <span class="keyword">int</span> number = atoi(txtFileNumber-&gt;getText().c_str());</span><br><span class="line">        <span class="function">FileSplitter <span class="title">splitter</span><span class="params">(filePath, number, progressBar)</span></span>;</span><br><span class="line">        splitter.split();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IProgress</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DoProgress</span><span class="params">(<span class="keyword">float</span> value)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">virtual</span> ~IProgress() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// �ļ��ָ���</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileSplitter</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_filePath;</span><br><span class="line">    <span class="keyword">int</span> m_fileNumber;</span><br><span class="line">    <span class="comment">//ProgressBar *m_progressBar; //����֪ͨ�ؼ�</span></span><br><span class="line">    IProgress *m_iprogress; <span class="comment">// ����֪ͨ����</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    FileSplitter(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;filePath, <span class="keyword">int</span> fileNumber,</span><br><span class="line">                 IProgress *iprogress)</span><br><span class="line">        : m_filePath(filePath),</span><br><span class="line">          m_fileNumber(fileNumber),</span><br><span class="line">          m_iprogress(iprogress) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">split</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//1.��ȡ���ļ�</span></span><br><span class="line">        <span class="comment">//2.��������С�ļ���д��</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; m_fileNumber; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//...</span></span><br><span class="line">             <span class="keyword">float</span> progressVale = m_fileNumber;</span><br><span class="line">             progressVale = (i + <span class="number">1</span>) / progressVale;</span><br><span class="line">             onProgress(progressVale);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onProgress</span><span class="params">(<span class="keyword">float</span> value)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (m_iprogress != <span class="literal">nullptr</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            m_iprogress-&gt;DoProgress(value); <span class="comment">//���½�����</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainForm</span> :</span> <span class="keyword">public</span> Form, <span class="keyword">public</span> IProgress</span><br><span class="line">&#123;</span><br><span class="line">    TextBos *txtFilePath;</span><br><span class="line">    TextBos *txtFileNumber;</span><br><span class="line">    ProgressBar *progressBar;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Button1_Click</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">string</span> filePath = txtFilePath-&gt;getText();</span><br><span class="line">        <span class="keyword">int</span> number = atoi(txtFileNumber-&gt;getText().c_str());</span><br><span class="line">        <span class="function">FileSplitter <span class="title">splitter</span><span class="params">(filePath, number, <span class="keyword">this</span>)</span></span>;<span class="comment">//this �̳���IProgress�ӿ�</span></span><br><span class="line">        splitter.split();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DoProgress</span><span class="params">(<span class="keyword">float</span> value)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        progressBar-&gt;setValue(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>���������һ��<strong>һ�Զ�</strong>���仯����������ϵ���Ա㵱һ������Subject����״̬<strong>�����ı�</strong>ʱ���������������Ķ��󶼵õ�֪ͨ���Զ����¡�</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%DB%B2%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%EF%BF%BD%DB%B2%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD1.png" alt="avatar">;</p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>ʹ���������ĳ���Observerģʽʹ�����ǿ���<strong>�����ظı�</strong>�����ã�Ŀ����۲��ߣ��Ӷ�ʹ����֮���������ϵ��������ϡ�</li>
<li>Ŀ�귢��֪ͨʱ��<strong>����ָ���۲���</strong>��<strong>֪ͨ</strong>������Я��֪ͨ��Ϣ��Ϊ������<strong>���Զ�������</strong></li>
<li>�۲����Լ������Ƿ���Ҫ����֪ͨ��Ŀ�����Դ�һ����֪��</li>
<li>Observerģʽ�ǻ���ʱ���UI����зǳ����õ����ģʽ��Ҳ��MVCģʽ��һ����Ҫ��ɲ��֡�</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<h1 id="��һְ��"><a href="#��һְ��" class="headerlink" title="��һְ��"></a>��һְ��</h1><p>������������У�������λ��ֵĲ�������ʹ�ü̳еõ��Ľ����������������ı仯�����༱�����ͣ�ͬʱ������ظ����룬��ʱ��Ĺؼ��ǻ������Ρ�<br><span id = "Decorator"></span></p>
<h3 id="װ��gʽ-Decorator"><a href="#װ��gʽ-Decorator" class="headerlink" title="װ��ģʽ(Decorator)"></a>װ��ģʽ(Decorator)</h3><ul>
<li><strong>����</strong><ul>
<li>��ĳЩ��������ǿ��ܻᡰ���ȵ�ʯ����̳�����չ����Ĺ��ܡ������ڼ̳�Ϊ��������ľ�̬���ʣ�ʹ��������չ��ʽȱ������ԣ�����������������ࣨ��չ���ܵ����ࣩ�������������ϣ���չ���ܵ���ϣ��ᵼ�¸�����������͡�</li>
<li>���ʹ�������ܵ���չ���ܹ�������Ҫ����̬��ʵ�֣�ͬʱ���⡰��չ���ܵ����ࡱ�����������������⣿�Ӷ�ʹ���κΡ�������չ�仯�������µ�Ӱ�콵Ϊ��ͣ�</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ҵ�����</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stream</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> position)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">virtual</span> ~Stream()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//������</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileStream</span> :</span> <span class="keyword">public</span> Stream</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//���ļ���</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> postion)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//��λ�ļ���</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//д�ļ���</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NetworkStream</span> :</span> <span class="keyword">public</span> Stream</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//��������</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> postion)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//��λ������</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//д������</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MemoryStream</span> :</span> <span class="keyword">public</span> Stream</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//���ڴ���</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> postion)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//��λ�ڴ���</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//д�ڴ���</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//��չ����</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CryptoFileStream</span> :</span> <span class="keyword">public</span> FileStream</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        FileStream::Read(number);<span class="comment">//���ļ���</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> postion)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        FileStream::Seek(postion);<span class="comment">//��λ�ļ���</span></span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        FileStream::Write(data);<span class="comment">//д�ļ���</span></span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CryptoNetworkStream</span> :</span> <span class="keyword">public</span> NetworkStream</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        NetworkStream::Read(number);<span class="comment">//��������</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> postion)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        NetworkStream::Seek(postion);<span class="comment">//��λ������</span></span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        NetworkStream::Write(data);<span class="comment">//д������</span></span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CryptoMemoryStream</span> :</span> <span class="keyword">public</span> MemoryStream</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        MemoryStream::Read(number);<span class="comment">//���ڴ���</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> postion)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        MemoryStream::Seek(postion);<span class="comment">//��λ�ڴ���</span></span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        MemoryStream::Write(data);<span class="comment">//д�ڴ���</span></span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedFileStream</span> :</span> <span class="keyword">public</span> FileStream</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedNetworkStream</span> :</span> <span class="keyword">public</span> NetworkStream</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedMemoryStream</span> :</span> <span class="keyword">public</span> MemoryStream</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Process</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//����ʱװ��</span></span><br><span class="line">    CryptoFileStream *fs1 = <span class="keyword">new</span> CryptoFileStream();</span><br><span class="line">    BufferedFileStream *fs2 = <span class="keyword">new</span> BufferedFileStream();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/%D7%B0%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%D7%B0%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD1.png" alt="avatar"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ҵ���������</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//�����಻��</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//��չ����</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CryptoStream</span> :</span> <span class="keyword">public</span> Stream</span><br><span class="line">&#123;</span><br><span class="line">    Stream *stream; <span class="comment">//...</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    CryptoStream(Stream *stm) : stream(stm) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        stream-&gt;Read(number); <span class="comment">//���ļ���</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> postion)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        stream-&gt;Seek(postion); <span class="comment">//��λ�ļ���</span></span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        stream-&gt;Write(data); <span class="comment">//д�ļ���</span></span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedStream</span> :</span> <span class="keyword">public</span> Stream</span><br><span class="line">&#123;</span><br><span class="line">    Stream *stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BufferedStream(Stream *stm) : stream(stm) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> postion)</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Process</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//����ʱװ��</span></span><br><span class="line">    FileStream *s1 = <span class="keyword">new</span> FileStream();</span><br><span class="line">    CryptoStream *s2 = <span class="keyword">new</span> CryptoStream(s1);</span><br><span class="line">    BufferedStream *s3 = <span class="keyword">new</span> BufferedStream(s1);</span><br><span class="line">    BufferedStream *s4 = <span class="keyword">new</span> BufferedStream(s2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="װ��gʽ������"><a href="#װ��gʽ������" class="headerlink" title="װ��ģʽ������"></a>װ��ģʽ������</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ҵ���������</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//�����಻��</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//��չ����</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DecoratorStream</span> :</span> <span class="keyword">public</span> Stream</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    Stream *stream; <span class="comment">//...</span></span><br><span class="line">    DecoratorStream(Stream *stm) : stream(stm) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CryptoStream</span> :</span> <span class="keyword">public</span> DecoratorStream</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    CryptoStream(Stream *stm) : DecoratorStream(stm) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        stream-&gt;Read(number); <span class="comment">//���ļ���</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> postion)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        stream-&gt;Seek(postion); <span class="comment">//��λ�ļ���</span></span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">        stream-&gt;Write(data); <span class="comment">//д�ļ���</span></span><br><span class="line">        <span class="comment">//����ļ��ܲ���...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedStream</span> :</span> <span class="keyword">public</span> DecoratorStream</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BufferedStream(Stream *stm) : DecoratorStream(stm) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">char</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> number)</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Seek</span><span class="params">(<span class="keyword">int</span> postion)</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> data)</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Process</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//����ʱװ��</span></span><br><span class="line">    FileStream *s1 = <span class="keyword">new</span> FileStream();</span><br><span class="line">    CryptoStream *s2 = <span class="keyword">new</span> CryptoStream(s1);</span><br><span class="line">    BufferedStream *s3 = <span class="keyword">new</span> BufferedStream(s1);</span><br><span class="line">    BufferedStream *s4 = <span class="keyword">new</span> BufferedStream(s2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/%D7%B0%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%D7%B0%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD2.png" alt="avatar"></p>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>��̬��<strong>���</strong>���ظ�һ����������һЩ�����ְ�𡣾����ӹ��ܶ��ԣ�Decoratorģʽ���������ࣨ<strong>�̳�</strong>����Ϊ��<strong>�����ظ�����</strong>&amp;<strong>�����������</strong>����</li>
</ul>
</li>
</ul>
<p><img src="/img/%D7%B0%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%D7%B0%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD3.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>ͨ��������϶��Ǽ̳е��ַ���Decoratorģʽʵ������<strong>����ʱ</strong>��̬��չ�����ܵ����������ҿ��Ը�����Ҫ��չ������ܡ�������ʹ�ü̳д����ġ�����Բ�͡���������������⡱��</li>
<li>Decorator����<strong>�ӿ��ϱ���Ϊis-a</strong> Component�ļ̳й�ϵ����Decorate��̳���Component�������еĽӿڡ�����ʱ��ʾ�����ֱ���Ϊ<strong>has-a</strong> Component����Ϲ�ϵ����Decorator����ʵ��������һ��Component�ࡣ</li>
<li>Decoratorģʽ��ĸ�岢�ǽ����������������Ķ�̳С����⣬DecoratorģʽӦ�õ�Ҫ�����ڽ�����������ڶ�������ϵ���չ���ܡ�������Ϊ��װ�Ρ��ĺ��塣</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<p><span id = "Bridge"></span></p>
<h3 id="��gʽ-Bridge"><a href="#��gʽ-Bridge" class="headerlink" title="��ģʽ(Bridge)"></a>��ģʽ(Bridge)</h3><ul>
<li><strong>����</strong><ul>
<li>����ĳЩ���͵Ĺ�������ʵ�߼���ʹ�����Ǿ��������仯��ά�ȣ��������ά�ȵı仯��</li>
<li>���Ӧ�����֡���ά�ȵı仯����������������������ʹ����I���Ǹ��������ɵ��������������������仯�������������ĸ��Ӷȣ�</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Messager</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> username, <span class="built_in">std</span>::<span class="built_in">string</span> password)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> message)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image image)</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PlaySound</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DrawShape</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">WriteText</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Connect</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">virtual</span> ~Messager() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ƽ̨ʵ��</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PCMessagerBase</span> :</span> <span class="keyword">public</span> Messager</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PlaySound</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DrawShape</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">WriteText</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Connect</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MobileMessagerBase</span> :</span> <span class="keyword">public</span> Messager</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PlaySound</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DrawShape</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">WriteText</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Connect</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ҵ�����</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PCMessagerLite</span> :</span> <span class="keyword">public</span> PCMessagerBase</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> username, <span class="built_in">std</span>::<span class="built_in">string</span> password)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        PCMessagerBase::Connect();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> message)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        PCMessagerBase::WriteText();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image image)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        PCMessagerBase::DrawShape();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PCMessagerPerfect</span> :</span> <span class="keyword">public</span> PCMessagerBase</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> username, <span class="built_in">std</span>::<span class="built_in">string</span> password)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        PCMessagerBase::PlaySound();</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">        PCMessagerBase::Connect();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> message)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        PCMessagerBase::PlaySound();</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">        PCMessagerBase::WriteText();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image image)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        PCMessagerBase::PlaySound();</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">        PCMessagerBase::DrawShape();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MobileMessagerLite</span> :</span> <span class="keyword">public</span> MobileMessagerBase</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> username, <span class="built_in">std</span>::<span class="built_in">string</span> password)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        MobileMessagerBase::Connect();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> message)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        MobileMessagerBase::WriteText();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image image)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        MobileMessagerBase::DrawShape();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MobileMessagerPerfect</span> :</span> <span class="keyword">public</span> MobileMessagerBase</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Process</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//����ʱװ��</span></span><br><span class="line">    Messager *m = <span class="keyword">new</span> MobileMessagerPerfect();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Messager</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    MessagerImp *messagerImp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Messager(MessagerImp *msgimp) : messagerImp(msgimp) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> username, <span class="built_in">std</span>::<span class="built_in">string</span> password)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> message)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image image)</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">virtual</span> ~Messager() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessagerImp</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PlaySound</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DrawShape</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">WriteText</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Connect</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">virtual</span> ~MessagerImp() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ƽ̨ʵ��</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PCMessagerImp</span> :</span> <span class="keyword">public</span> MessagerImp</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PlaySound</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DrawShape</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">WriteText</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Connect</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MobileMessagerImp</span> :</span> <span class="keyword">public</span> MessagerImp</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PlaySound</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DrawShape</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">WriteText</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Connect</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ҵ�����</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessagerLite</span> :</span> Messager</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MessagerLite(MessagerImp *msgimp) : Messager(msgimp) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> username, <span class="built_in">std</span>::<span class="built_in">string</span> password)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        messagerImp-&gt;Connect();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> message)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        messagerImp-&gt;WriteText();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image image)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        messagerImp-&gt;DrawShape();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessagerPerfect</span> :</span> <span class="keyword">public</span> Messager</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MessagerPerfect(MessagerImp *msgimp) : Messager(msgimp) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> username, <span class="built_in">std</span>::<span class="built_in">string</span> password)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        messagerImp-&gt;PlaySound();</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">        messagerImp-&gt;Connect();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span> message)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        messagerImp-&gt;PlaySound();</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">        messagerImp-&gt;WriteText();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image image)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        messagerImp-&gt;PlaySound();</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">        messagerImp-&gt;DrawShape();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Process</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//����ʱװ��</span></span><br><span class="line">    MessagerImp *mImp = <span class="keyword">new</span> PCMessagerImp();</span><br><span class="line">    Messager *m = <span class="keyword">new</span> MessagerLite(mImp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="img/%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD1.png" alt="avatar"></p>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>�����󲿷֣�<strong>ҵ����</strong>����ʵ�ֲ��֣�<strong>ƽ̨ʵ��</strong>�����룬ʹ���ǿ��Զ����ر仯��</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>Bridgeģʽʹ�á�<strong>��������Ϲ�ϵ</strong>�������˳����ʵ��֮�����еİ󶨹�ϵ��ʹ�ó����ʵ�ֿ������Ÿ��Ե�ά�����仯����ν�����ʵ�����Ÿ���ά�ȵı仯���������໰�����ǡ�</li>
<li>Bridgeģʽ��ʱ�������ڶ�̳з��������Ƕ�̳з�������Υ����һְ��ԭ�򣨼�һ����ֻ��һ���仯��ԭ�򣩣������ԱȽϲBridgeģʽ�Ǳȶ�̳з������õĽ��������</li>
<li>Bridgeģʽ��Ӧ��һ���ڡ�������ǿ�ı仯ά�ȡ�����ʱһ�����ж��������ı仯��Ψ������ʱ����ʹ��Bridge����չģʽ��</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<h1 id="���󴴽�"><a href="#���󴴽�" class="headerlink" title="���󴴽�"></a>���󴴽�</h1><p>ͨ�������󴴽���ģʽ�ƿ�<strong>new</strong>����������󴴽���new�������������µĽ���ϣ����������ࣩ���Ӷ�֧�ֶ��󴴽����ȶ������ǽӿڳ���֮��ĵ�һ��������<br><span id = "FactoryMethod"></span></p>
<h3 id="��������-Factory-Method"><a href="#��������-Factory-Method" class="headerlink" title="��������(Factory Method)"></a>��������(Factory Method)</h3><ul>
<li><strong>����</strong><ul>
<li>������ϵͳ�У����������Ŵ�������Ĺ�������������ı仯����Ҫ�����Ķ���ľ������;����仯��</li>
<li>���Ӧ�����ֱ仯������ƹ�����Ķ��󴴽�������new�����ṩһ�֡���װ���ơ�������ͻ���������֡�������󴴽��������Ľ���ϣ�</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ������</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ISplitter</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">virtual</span> ~ISplitter() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ������</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinarySplitter</span> :</span> <span class="keyword">public</span> ISplitter</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//....</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TxtSplitter</span> :</span> <span class="keyword">public</span> ISplitter</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//��д��������</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PictureSplitter</span> :</span> <span class="keyword">public</span> ISplitter</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//��д��������</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoSplitter</span> :</span> <span class="keyword">public</span> ISplitter</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//��д��������</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ��������</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SplitterFactory</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter *<span class="title">CreateSplitter</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">virtual</span> ~SplitterFactory() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ���幤��</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinarySplitterFactory</span> :</span> <span class="keyword">public</span> SplitterFactory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter *<span class="title">CreateSplitter</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BinarySplitter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TxtSplitterFactory</span> :</span> <span class="keyword">public</span> SplitterFactory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter *<span class="title">CreateSplitter</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> TxtSplitter(); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PictureSplitterFactory</span> :</span> <span class="keyword">public</span> SplitterFactory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter *<span class="title">CreateSplitter</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> PictureSplitter(); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoSplitterFactory</span> :</span> <span class="keyword">public</span> SplitterFactory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter *<span class="title">CreateSplitter</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> VideoSplitter(); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainForm</span> :</span> <span class="keyword">public</span> Form</span><br><span class="line">&#123;</span><br><span class="line">    SplitterFactory *factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MainForm(SplitterFactory *factory) : factory(factory) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Button1_Click</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ISplitter *splitter = factory-&gt;CreateSplitter();<span class="comment">// ��̬new</span></span><br><span class="line">        splitter-&gt;split();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>����һ�����ڴ�������Ľӿڣ����������ʵ������һ���ࡣFactory Methodʹ��һ�����ʵ�����ӳ٣�Ŀ�ģ�����ֶΣ��麯���������ࡣ</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>Factory Methodģʽ���ڸ�������ʹ���ߺ;�������֮�����Ϲ�ϵ�����һ�������仯�ľ������ͣ�����Ϲ�ϵ��new���ᵼ�������Ĵ�����</li>
<li>Factory Methodģʽͨ��������󣨶�̬�����ַ�������Ҫ�����ľ��������<strong>�ӳ�</strong>�����࣬�Ӷ�ʵ��һ��<strong>��չ</strong>�����Ǹ��ģ��Ĳ��ԣ��Ϻõؽ�������ֽ���Ϲ�ϵ��</li>
<li>Factory Methodģʽ������������󡱵�����仯��ȱ������Ҫ�󴴽�����/������ͬ��</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<p><span id = "AbstractFactory"></span></p>
<h3 id="���󹤳�-Abstract-Factory"><a href="#���󹤳�-Abstract-Factory" class="headerlink" title="���󹤳�(Abstract Factory)"></a>���󹤳�(Abstract Factory)</h3><ul>
<li><strong>����</strong><ul>
<li>������ϵͳ�У����������š�<strong>һϵ���໥�����Ķ���</strong>���Ĵ���������ͬʱ����������ı仯���������ڸ���ϵ�ж���Ĵ���Ŷ��������</li>
<li>���Ӧ�����ֲ��仯������ƹ�����Ķ��󴴽�������new�����ṩһ�֡���װ���ơ�������ͻ���������֡���ϵ�о�����󴴽��������Ľ���ϣ�</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//���ݿ�����йصĻ���</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDBConnection</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDBFactory</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBConnection *<span class="title">CreateDBConnection</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBCommand *<span class="title">CreateDBCommand</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDataReader *<span class="title">CreateDataReader</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDBCommand</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDataReader</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//֧��SQL Server</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlConnection</span> :</span> <span class="keyword">public</span> IDBConnection</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlDBFactory</span> :</span> <span class="keyword">public</span> IDBFactory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBConnection *<span class="title">CreateDBConnection</span><span class="params">()</span> <span class="keyword">override</span></span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBCommand *<span class="title">CreateDBCommand</span><span class="params">()</span> <span class="keyword">override</span></span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDataReader *<span class="title">CreateDataReader</span><span class="params">()</span> <span class="keyword">override</span></span>&#123;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlCommand</span> :</span> <span class="keyword">public</span> IDBCommand</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlDataReader</span> :</span> <span class="keyword">public</span> IDataReader</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//֧��Oracle</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleConnection</span> :</span> <span class="keyword">public</span> IDBConnection</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleDBFactory</span> :</span> <span class="keyword">public</span> IDBFactory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBConnection *<span class="title">CreateDBConnection</span><span class="params">()</span> <span class="keyword">override</span></span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBCommand *<span class="title">CreateDBCommand</span><span class="params">()</span> <span class="keyword">override</span></span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDataReader *<span class="title">CreateDataReader</span><span class="params">()</span> <span class="keyword">override</span></span>&#123;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleSqlCommand</span> :</span> <span class="keyword">public</span> IDBCommand</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleSqlDataReader</span> :</span> <span class="keyword">public</span> IDataReader</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmployeeDAO</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;EmployeeDAO&gt; <span class="title">GetEmployees</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        IDBConnection *connection = <span class="keyword">new</span> SqlConnection();</span><br><span class="line">        connection-&gt;ConnectionString(<span class="string">&quot;...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        IDBCommand *command = <span class="keyword">new</span> SqlConnection();</span><br><span class="line">        command-&gt;CommandText(<span class="string">&quot;...&quot;</span>);</span><br><span class="line">        command-&gt;SetConnection(connection);<span class="comment">//������</span></span><br><span class="line"></span><br><span class="line">        IDataReader *reader = command-&gt;ExecuteReader();<span class="comment">//������</span></span><br><span class="line">        <span class="keyword">while</span> (reader-&gt;Read())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//...</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>�ṩһ���ӿڣ��ýӿڸ��𴴽�һϵ�С���ػ����໥�����Ķ��󡱣�����ָ�����Ǿ�����ࡣ</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%F3%B9%A4%B3%EF%BF%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%F3%B9%A4%B3%EF%BF%BD1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>���û��Ӧ�ԡ���ϵ�ж��󹹽���������仯����û�б�Ҫʹ��Abstract Factoryģʽ����ʱ��ʹ�ü򵥵Ĺ�����ȫ���ԡ�</li>
<li>��<strong>ϵ�ж���</strong>��ָ������ĳһ�ض�ϵ���మ�Ķ���֮�����໥�����������õĹ�ϵ����ͨϵ�еĶ���֮�䲻���໥������</li>
<li>Abstract Factoryģʽ��Ҫ����Ӧ�ԡ�<strong>��ϵ��</strong>��������䶯����ȱ������<strong>����Ӧ��</strong>��<strong>�¶���</strong>��������䶯��</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<p><span id = "Prototype"></span></p>
<h3 id="ԭ��gʽ-Prototype"><a href="#ԭ��gʽ-Prototype" class="headerlink" title="ԭ��ģʽ(Prototype)"></a>ԭ��ģʽ(Prototype)</h3><ul>
<li><strong>����</strong><ul>
<li>������ϵͳ�У����������š�<strong>ĳЩ�ṹ���ӵĶ���</strong>���Ĵ�����������������ı仯����Щ���󾭳������ž��ҵı仯����������ȴӵ�бȽ��ȶ�һ�µĽӿڡ�</li>
<li>���Ӧ�����ֱ仯������򡰿ͻ�����ʹ����Щ����ĳ��򣩡����������Щ�ױ���󡱣��Ӷ�ʹ�á�������Щ�ױ����Ŀͻ����򡱲���������ı���ı䣿</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ������</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ISplitter</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter *<span class="title">clone</span><span class="params">()</span> </span>= <span class="number">0</span>;<span class="comment">// ͨ����¡�Լ�����������</span></span><br><span class="line">    <span class="keyword">virtual</span> ~ISplitter() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ������</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinarySplitter</span> :</span> <span class="keyword">public</span> ISplitter</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//....</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter *<span class="title">clone</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BinarySplitter(*<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TxtSplitter</span> :</span> <span class="keyword">public</span> ISplitter</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter *<span class="title">clone</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TxtSplitter(*<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PictureSplitter</span> :</span> <span class="keyword">public</span> ISplitter</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter *<span class="title">clone</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> PictureSplitter(*<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoSplitter</span> :</span> <span class="keyword">public</span> ISplitter</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter *<span class="title">clone</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> VideoSplitter(*<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainForm</span> :</span> <span class="keyword">public</span> Form</span><br><span class="line">&#123;</span><br><span class="line">    ISplitter *prototype; <span class="comment">//ԭ�Ͷ���s</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MainForm(ISplitter *prototype) : prototype(prototype) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Button1_Click</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ISplitter *splitter = prototype-&gt;clone(); <span class="comment">// ��¡ԭ��</span></span><br><span class="line">        splitter-&gt;split();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>ʹ��<strong>ԭ��ʵ��</strong>�ƶ�������������࣬Ȼ��ͨ��<strong>����</strong>�����¡����Щԭ���������µĶ���</li>
</ul>
</li>
</ul>
<p><img src="/img/%D4%AD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%D4%AD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>Prototypeģʽͬ�����ڸ���������ʹ���ߺ;������ͣ��ױ��ࣩ֮�����Ϲ�ϵ����ͬ��Ҫ����Щ���ױ��ࡱӵ�С�<strong>�ȶ��Ľӿ�</strong>����</li>
<li>Prototypeģʽ���ڡ���δ����ױ����ʵ����󡱲��á�ԭ�Ϳ�¡���ķ�����������ʹ�����ǿ��Էǳ����ض�̬������ӵ��ĳЩ�ȶ��ӿڡ����¶��󡪡����蹤��������<strong>ע��һ������Ķ���</strong>����ԭ�ͣ���Ȼ�����κ���Ҫ�ĵط�Clone��</li>
<li>Prototypeģʽ�е�Clone������������ĳЩ����е�<strong>���л�</strong>��ʵ�������</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<p><span id = "Builder"></span></p>
<h3 id="������-Builder"><a href="#������-Builder" class="headerlink" title="������(Builder)"></a>������(Builder)</h3><ul>
<li><strong>����</strong><ul>
<li>������ϵͳ�У���ʱ�������š�<strong>һ�����Ӷ���</strong>���Ĵ�����������ͨ���ɸ������ֵ��Ӷ�����һ�����㷨���ɣ���������ı仯��������Ӷ���ĸ������־���������<strong>���ҵı仯</strong>�����ǽ����������һ����㷨ȴ<strong>����ȶ�</strong>��</li>
<li>���Ӧ�����ֱ仯������ṩһ�֡���װ���ơ���������� ���Ӷ���ĸ������֡��ı仯���Ӷ�����ϵͳ�еġ��ȶ������㷨������������ı���ı䣿</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">House</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;BuildPart1();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;BuildPart2();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="keyword">this</span>-&gt;BuildPart3();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;BuildPart4();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>-&gt;BuildPart5();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart1</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart2</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">BuildPart3</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart4</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart5</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StoneHouse</span> :</span> <span class="keyword">public</span> House</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart1</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart2</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">BuildPart3</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart4</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart5</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">House</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HouseBuilder</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">HouseDirector</span>;</span><span class="comment">//��ֹ��������ôд�ģ�����</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">House *<span class="title">GetResult</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pHouse;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">virtual</span> ~HouseBuilder() &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    House *pHouse;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart1</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart2</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">BuildPart3</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart4</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart5</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StoneHouseBuilder</span> :</span> <span class="keyword">public</span> HouseBuilder</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart1</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart2</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">BuildPart3</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart4</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart5</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HouseDirector</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    HouseBuilder *pHouseBuilder;</span><br><span class="line">    HouseDirector(HouseBuilder *builder) : pHouseBuilder(builder) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">House *<span class="title">Construct</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        pHouseBuilder-&gt;BuildPart1();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            pHouseBuilder-&gt;BuildPart2();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">bool</span> flag = pHouseBuilder-&gt;BuildPart3();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">        &#123;</span><br><span class="line">            pHouseBuilder-&gt;BuildPart4();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        pHouseBuilder-&gt;BuildPart5();</span><br><span class="line">        <span class="keyword">return</span> pHouseBuilder-&gt;GetResult();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>��һ�����ӵĶ���Ĺ��������ʾ����룬ʹ��ͬ���Ĺ������̣��ȶ������Դ�����ͬ�ı�ʾ���仯����</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>Builderģʽ��Ҫ���ڡ��ֲ��蹹��һ�����ӵĶ��󡱡��������С��ֲ��衱��һ��<strong>�ȶ�</strong>���㷨�������Ӷ���ĸ���������<strong>�����仯</strong>��</li>
<li>�仯���������װ�����Builderģʽ��Ҫ���ڶ�Ӧ�����Ӷ���������֡���Ƶ������䶯����ȱ����������Ӧ�ԡ��ֲ��蹹���㷨��������䶯��</li>
<li>��Builderģʽ�У�Ҫע�ⲻͨ�����й�������<strong>�����麯��</strong>�Ĳ��C++ vs. C#����</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<h1 id="��������"><a href="#��������" class="headerlink" title="��������"></a>��������</h1><p>�������ܺõؽ���ˡ����󡱵����⣬���Ǳز������Ҫ����һ���Ĵ��ۡ�����ͨ������������������ĳɱ��󶼿��Ժ��Բ��ơ�����ĳЩ�������������������ĳɱ��������������<br><span id = "Singleton"></span></p>
<h3 id="����gʽ-Singleton"><a href="#����gʽ-Singleton" class="headerlink" title="����ģʽ(Singleton)"></a>����ģʽ(Singleton)</h3><ul>
<li><strong>����</strong><ul>
<li>������ϵͳ�У�����������һЩ������ף����뱣֤������ϵͳ�д���һ��ʵ��������ȷ�����ǵ��߼���ȷ�ԡ��Լ����õ�Ч�ʡ�</li>
<li>����ƹ�����Ĺ��������ṩһ�ֻ�������֤һ����ֻ��һ��ʵ����</li>
<li>��Ӧ����������ߵ����Σ�������ʹ���ߵ����Ρ�</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Singleton() = <span class="keyword">default</span>;</span><br><span class="line">    Singleton(Singleton &amp;other);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Singleton *<span class="title">getInstance</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">static</span> Singleton *m_instance;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Singleton *Singleton::m_instance = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//�̷߳ǰ�ȫ�汾</span></span><br><span class="line"><span class="function">Singleton *<span class="title">Singleton::getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (m_instance == <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        m_instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m_instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//�̰߳�ȫ�汾�������Ĵ��۹���(����߳̽����˴�����&quot;��&quot;ʱ)</span></span><br><span class="line"><span class="function">Singleton *<span class="title">Singleton::getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Lock lock;</span><br><span class="line">    <span class="keyword">if</span> (m_instance == <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        m_instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m_instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//˫��������������ڴ��дreorder����ȫ</span></span><br><span class="line"><span class="function">Singleton *<span class="title">Singleton::getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (m_instance == <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Lock lock;</span><br><span class="line">        <span class="keyword">if</span> (m_instance == <span class="literal">nullptr</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            m_instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m_instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//C++ 11�汾֮��Ŀ�ƽ̨ʵ��(volatile)</span></span><br><span class="line"><span class="built_in">std</span>::atomic&lt;Singleton *&gt; Singleton::m_instance;</span><br><span class="line"><span class="built_in">std</span>::mutex Singleton::m_mutex;</span><br><span class="line"></span><br><span class="line"><span class="function">Singleton *<span class="title">Singleton::getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Singleton *tmp = m_instance.load(<span class="built_in">std</span>::memory_order_relaxed);</span><br><span class="line">    <span class="built_in">std</span>::atomic_thread_fence(<span class="built_in">std</span>::memory_order_acquire);<span class="comment">//��ȡ�ڴ�fence</span></span><br><span class="line">    <span class="keyword">if</span> (tmp == <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="built_in">std</span>::lock_guard&lt;<span class="built_in">std</span>::mutex&gt; <span class="title">lock</span><span class="params">(m_mutex)</span></span>;</span><br><span class="line">        tmp = m_instance.load(<span class="built_in">std</span>::memory_order_relaxed);</span><br><span class="line">        <span class="keyword">if</span> (tmp == <span class="literal">nullptr</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp = <span class="keyword">new</span> Singleton();</span><br><span class="line">            <span class="built_in">std</span>::atomic_thread_fence(<span class="built_in">std</span>::memory_order_release); <span class="comment">//�ͷ��ڴ�fence</span></span><br><span class="line">            m_instance.store(tmp, <span class="built_in">std</span>::memory_order_relaxed);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>��֤һ�������һ��ʵ�������ṩһ����ʵ����ȫ�ַ��ʵ㡣</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>Singletonģʽ�е�ʵ����������������Ϊprotected��2��������������</li>
<li>Singletonģʽһ�㲻Ҫ֧�ֿ������캯����Clone�ӿڣ���Ϊ���п��ܵ�ʱ�������ʵ������Singletonģʽ�ĳ���Υ����</li>
<li>���ʵ�ֶ��̻߳����°�ȫ��Singleton��ע���˫���������ȷʵ�֡�</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<p><span id = "Flyweight"></span></p>
<h3 id="��Ԫgʽ-Flyweight"><a href="#��Ԫgʽ-Flyweight" class="headerlink" title="��Ԫģʽ(Flyweight)"></a>��Ԫģʽ(Flyweight)</h3><ul>
<li><strong>����</strong><ul>
<li>������ϵͳ�д�����󷽰����������ڴ���ϸ���ȵĶ����ܿ�����ϵͳ�У��Ӷ������ܸߵ����д��ۡ�����Ҫָ�ڴ�������Ĵ��ۡ�</li>
<li>��α������ϸ���ȶ��������ͬʱ�����ⲿ�ͻ�������Ȼ�ܹ�͸����ʹ���������ķ�ʽ�����в�����</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Font</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">//unique object key</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> key;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//object state</span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Font(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;key)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FontFactory</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>, Font *&gt; fontPool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">Font *<span class="title">GetFont</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;key)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>, Font *&gt;::iterator item = fontPool.find(key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (item != fontPool.end())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> fontPool[key];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Font *font = <span class="keyword">new</span> Font(key);</span><br><span class="line">            fontPool[key] = font;</span><br><span class="line">            <span class="keyword">return</span> font;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>����<strong>����</strong>������Ч��֧��<strong>����</strong>ϸ���ȵĶ���</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%D4%AA%C4%A3%CA%BD/%EF%BF%BD%EF%BF%BD%D4%AA%C4%A3%CA%BD1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>�������ܺõؽ���˳����Ե����⣬������Ϊһ�������ڻ����еĳ���ʵ�壬������Ҫ���Ƕ���Ĵ������⡣Flyweight��Ҫ����������Ĵ������⣬һ�㲻�����������ĳ������⡣</li>
<li>Flyweight���ö�����������������ϵͳ�ж��ֵĸ������Ӷ�����ϸ���ȶ����ϵͳ�������ڴ�ѹ�����ھ���<strong>ʵ�ַ���</strong>��Ҫע�����<strong>״̬</strong>�������Font���󴴽���ֻ���������޸ģ��Ĵ�����</li>
<li>���������<strong>̫��</strong>�Ӷ����¶����ڴ濪���Ӵ󡪡�<strong>ʲô��������</strong>���������Ҫ������ϸ�ĸ��ݾ���Ӧ���������������������ƾ���ܶϡ�</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<h1 id="�ӿڸ���"><a href="#�ӿڸ���" class="headerlink" title="�ӿڸ���"></a>�ӿڸ���</h1><p>��������������У�ĳЩ�ӿ�֮��ֱ�ӵ���������������ܶ����⡢���������޷�ʵ�֡���������һ��<strong>���</strong>���ȶ����ӿڣ������뱾��������ܹ����Ľӿ���һ�ֳ����Ľ��������<br><span id = "Facade"></span></p>
<h3 id="����gʽ-Facade"><a href="#����gʽ-Facade" class="headerlink" title="����ģʽ(Facade)"></a>����ģʽ(Facade)</h3><ul>
<li><p>**ϵͳ����ϵĸ��Ӷ�</p>
</li>
<li><p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD1.png" alt="avater"></p>
</li>
<li><p><strong>����</strong></p>
<ul>
<li>����A������������������Ŀͻ�������и��ָ��ӵ���ϵͳ���˹������ϣ������ⲿ�ͻ�����͸���ϵͳ���ݻ������ֶ����������źܶ�仯����ս��</li>
<li>��μ��ⲿ�ͻ������ϵͳ��Ľ����ӿڣ���ν��ⲿ�ͻ�������ݻ����ڲ���ϵͳ�ı仯֮��������໥���</li>
</ul>
</li>
<li><p><strong>ģʽ����</strong></p>
<ul>
<li>Ϊ��ϵͳ�е�һ��ӿ��ṩһ��<strong>һ�£��ȶ���</strong>�Ľ��棬Facadeģʽ������һ���߲�ӿڣ�����ӿ�ʹ����һ��ϵͳ��������ʹ����һ��ϵͳ�ĸ�������ʹ�ã�<strong>����</strong>����</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD2.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>�ӿͻ��˳���ĽǶ�������Facadeģʽ�����������ϵͳ�Ľӿڣ���������ڲ����ⲿ�ͻ��˳�����˵���ﵽ�����й���<strong>����</strong>����Ч�������ڲ���ϵͳ���κα仯����Ӱ�쵽Facade�ӿڵı仯��</li>
<li>Facade���ģʽ��ע�ش�<strong>�ܹ�</strong>�Ĳ��ȡ������ϵͳ�������ǵ�����Ĳ�Ρ�Facade�ܶ�ʱ�����һ�ּܹ����ģʽ��</li>
<li>Facade���ģʽ����һ����װ�䣬��������طŽ��κζ������Facadeģʽ��������ڲ�Ӧ���ǡ��໥��Ϲ�ϵ�Ƚϴ��һϵ���������������һ���򵥵Ĺ��ܼ��ϡ�</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<p><span id = "Proxy"></span></p>
<h3 id="����gʽ-Proxy"><a href="#����gʽ-Proxy" class="headerlink" title="����ģʽ(Proxy)"></a>����ģʽ(Proxy)</h3><ul>
<li><strong>����</strong><ul>
<li>���������ϵͳ�У���Щ��������ĳЩԭ�򣨱���<strong>���󴴽��Ŀ����ܴ�</strong>������<strong>��д������Ҫ��ȫ����</strong>������<strong>��Ҫ������ķ���</strong>�ȣ�ֱ�ӷ��ʻ��ʹ���ߡ�����ϵͳ�ṹ�����ܶ��鷳��</li>
<li>����ڲ���ʧȥ<strong>͸������</strong>�����ͬʱ��<strong>����/����</strong>��Щ�������еĸ����ԣ�<strong>����һ���Ӳ�</strong>�����������г����Ľ����ʽ��</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ISubject</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RealSubject</span> :</span> <span class="keyword">public</span> ISubject</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClientApp</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ISubject *subject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ClientApp()</span><br><span class="line">    &#123;</span><br><span class="line">        subject = <span class="keyword">new</span> RealSubject();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DoTask</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        subject-&gt;process();</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ISubject</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RealSubject</span> :</span> <span class="keyword">public</span> ISubject</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Proxy�����</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubjectProxy</span> :</span> <span class="keyword">public</span> ISubject</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//��RealSubject��һ�ּ�ӷ���</span></span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClientApp</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ISubject *subject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ClientApp()</span><br><span class="line">    &#123;</span><br><span class="line">        subject = <span class="keyword">new</span> SubjectProxy();<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DoTask</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        subject-&gt;process();</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>λ���������ṩһ�ִ�����<strong>���ƣ����룬ʹ�ýӿڣ�</strong>���������ķ���</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>������һ���Ӳ㡱������ϵͳ�ж����ิ�������һ�ֳ���������������������ϵͳ�У�ֱ��ʹ��ĳЩ���������ܶ����⣬��Ϊ��Ӳ��proxy������ǽ����һ����ĳ����ֶΡ�</li>
<li>����proxy���ģʽ��ʵ�ַ�����ʵ�����ȶ����ܴ���Щ���ܶԵ���������ϸ���ȵĿ��ƣ���copy-on-write��������Щ���ܶ����ģ���ṩ��������㣬�ڼܹ���ζԶ�����proxy��</li>
<li>Proxy����һ��Ҫ�󱣳ֽӿ�������һ���ԣ�ֻҪ�ܹ�ʵ�ּ�ӿ��ƣ���ʱ����һЩ͸�����ǿ��Խ��ܵġ�</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<h3 id="������-Adapter"><a href="#������-Adapter" class="headerlink" title="������(Adapter)"></a>������(Adapter)</h3><p><span id = "Adapter"></span></p>
<ul>
<li><strong>����</strong><ul>
<li>������ϵͳ�У�����Ӧ�û����ı仯��������Ҫ����һЩ�ִ�Ķ��󡱷����µĻ�����Ӧ�ã������»���Ҫ��Ľӿ�����Щ�ִ��������ġ�</li>
<li>���Ӧ�����֡�Ǩ�Ƶı仯������μ����������ж��������ʵ�֣�ͬʱ���������µ�Ӧ�û�����Ҫ��Ľӿڣ�</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD1.png" alt="avatar"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Ŀ��ӿڣ��½ӿڣ�</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ITarget</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// �����ӿڣ��Ͻӿڣ�</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IAdaptee</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(<span class="keyword">int</span> data)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">int</span> <span class="title">bar</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ��������</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldClass</span> :</span> <span class="keyword">public</span> IAdaptee</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//...override</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ����������</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Adapter</span> :</span> <span class="keyword">public</span> ITarget<span class="comment">// �̳�</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    IAdaptee *pAdaptee;<span class="comment">// ���</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Adapter(IAdaptee *apt) : pAdaptee(apt) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> data = pAdaptee-&gt;bar();</span><br><span class="line">        pAdaptee-&gt;foo(data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ��������</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Adapter</span> :</span> <span class="keyword">public</span> ITarget, <span class="keyword">protected</span> IAdaptee<span class="comment">// ��̳�</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IAdaptee *pAdaptee = <span class="keyword">new</span> OldClass();</span><br><span class="line">    Adapter *pTarget = <span class="keyword">new</span> Adapter(pAdaptee);</span><br><span class="line">    pTarget-&gt;process();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>��һ����Ľӿ�ת���ɿͻ�ϣ������һ���ӿڡ�Adapterģʽʹ��ԭ�����ڽӿڲ����ݶ�����һ��������Щ�����һ������</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD2.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>Adapterģʽ��ҪӦ���ڡ�ϣ������һЩ�ִ���࣬���ǽӿ����븴�û���Ҫ��һ�µ�����������������븴�á����Ǩ�Ƶȷ���ǳ����á�</li>
<li>GoF 23 ����������Adapterģʽ��ʵ�ֽӿڣ������������������������������������á���̳С���ʵ�ַ�ʽ��һ�㲻�Ƽ�ʹ�á��������������á�������ϡ��ķ�ʽ������������Ͼ���</li>
<li>Adapterģʽ����ʵ�ֵķǳ������ؾ�����GoF23�ж�������ֽӿڣ����磬��ȫ���Խ�Adapterģʽ�С��ִ������Ϊ�µĽӿڷ������������ﵽ�����Ŀ�ġ�</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<h3 id="�н���-Mediator"><a href="#�н���-Mediator" class="headerlink" title="�н���(Mediator)"></a>�н���(Mediator)</h3><p><span id = "Mediator"></span></p>
<ul>
<li><p><strong>����</strong></p>
<ul>
<li>���������������У����������<strong>�������</strong>����������������������֮�䳣����ά��һ�ָ��ӵ����ù�ϵ���������һЩ����ĸ��ģ�����ֱ�����ù�ϵ�����ٲ��ϵı仯��</li>
<li>��������£����ǿ�ʹ��һ�����н���������������Ĺ�����ϵ�������໥�����Ķ���֮��Ľ�������ù�ϵ���Ӷ����õ����仯��</li>
</ul>
</li>
<li><p><strong>ģʽ����</strong></p>
<ul>
<li>��һ���н��������װ��<strong>��װ�仯</strong>��һϵ�еĶ��󽻻����н���ʹ��������Ҫ<strong>��ʾ���໥����</strong>��<strong>����ʱ����</strong>-&gt;����ʱ���������Ӷ�ʹ�������ɢ�������仯�������ҿ��Զ����ظı�����֮��Ľ���</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%D0%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD/%EF%BF%BD%D0%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD1.png" alt="avatar"></p>
<p><img src="/img/%EF%BF%BD%D0%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD/%EF%BF%BD%D0%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD2.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>���������临�ӵĹ�����ϵ���Mediatorģʽ����������Ŀ����߼����м��й������䡰��������������λ����������һ���н��߹�����������ϵͳ��ά�����������ܵı仯��</li>
<li>���ſ����߼��ĸ��ӻ���Mediator��������ʵ�ֿ����൱���ӡ���ʱ����Զ�Mediator������зֽ⴦����</li>
<li>Facadeģʽ�ǽ���ϵͳ�䣨���򣩵Ķ��������ϵ��Mediatorģʽ�ǽ���ϵͳ�ڸ�������֮�䣨˫�򣩵Ĺ�����ϵ��</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<h1 id="״̬�仯"><a href="#״̬�仯" class="headerlink" title="״̬�仯"></a>״̬�仯</h1><p>��������������У�ĳЩ�����״̬�����仯����ζ���Щ�仯������Ч�Ĺ�����ͬʱ��ά�ָ߲�ģ����ȶ�����״̬�仯��ģʽλ��һ�����ṩ��һ�ֽ��������</p>
<h3 id="״̬gʽ-Memento"><a href="#״̬gʽ-Memento" class="headerlink" title="״̬ģʽ(Memento)"></a>״̬ģʽ(Memento)</h3><p><span id = "State"></span></p>
<ul>
<li><strong>����</strong><ul>
<li>���������������У�Ĭд�����״̬����ı䣬����ΪҲ����֮�������仯������ĵ�����ֻ��״̬����֧�ֵ���Ϊ�Ͷ�д״̬֧�ֵ���Ϊ�Ϳ�����ȫ��ͬ��</li>
<li>����������Ǹ��ݶ����״̬��͸���ظ��Ķ������Ϊ��������λ���������״̬ת��֮���������ϣ�</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">NetworkState</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Network_Open,</span><br><span class="line">    Network_Close,</span><br><span class="line">    Netwrork_Connect,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NetWorkProcessor</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    NetworkState state;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Operation11</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (state == Network_Open)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//******</span></span><br><span class="line">            state = Network_Close;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (state == Network_Close)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//......</span></span><br><span class="line">            state = Netwrork_Connect;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (state == Netwrork_Connect)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//$$$$$$</span></span><br><span class="line">            state = Network_Open;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Operation2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Operation3</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NetworkState</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NetworkState *pNext;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Operation1</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Operation2</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Operation3</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">virtual</span> ~NetworkState() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OpenState</span> :</span> <span class="keyword">public</span> NetworkState</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">static</span> NetworkState *m_instance;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> NetworkState *<span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (m_instance == <span class="literal">nullptr</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            m_instance = <span class="keyword">new</span> OpenState();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> m_instance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Operation1</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//******</span></span><br><span class="line">        pNext = ConnectState::getInstance();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Operation2</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">        pNext = CloseState::getInstance();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Operation3</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//$$$$$$</span></span><br><span class="line">        pNext = OpenState::getInstance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CloseState</span> :</span> <span class="keyword">public</span> NetworkState</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//..</span></span><br><span class="line"><span class="comment">//��չ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConnectState</span> :</span> <span class="keyword">public</span> NetworkState</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NetWorkProcessor</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    NetworkState *pState;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NetWorkProcessor(NetworkState *state) : pState(state) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Operation1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        pState-&gt;Operation1();</span><br><span class="line">        pState = pState-&gt;pNext;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Operation2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        pState-&gt;Operation2();</span><br><span class="line">        pState = pState-&gt;pNext;</span><br><span class="line">        <span class="comment">//..</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Operation3</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        pState-&gt;Operation3();</span><br><span class="line">        pState = pState-&gt;pNext;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>����һ�����������ڲ�״̬�ı��Ǹı�������Ϊ���Ӷ�ʹ��I�Ͱ��������ƺ��޸�������Ϊ��</li>
</ul>
</li>
</ul>
<p><img src="/img/%D7%B4%CC%AC%C4%A3%CA%BD/%D7%B4%CC%AC%C4%A3%CA%BD1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>Stateģʽ��������һ���ض�״̬��ص���Ϊ������һ��State����������У��ڶ���״̬�л�ʱ���л���Ӧ�Ķ��󣻵�ͬʱά��State�Ľӿڣ�����ʵ���˾��������״̬ת��֮��Ľ��</li>
<li>Ϊ��ͬ��״̬���벻ͬ�Ķ���״̬ת����ø�����ȷ�����ҿ��Ա�֤�������״̬��һ�µ��������Ϊת����ԭ���Եġ�����Ҫô����ת��������Ҫô��ת����</li>
<li>���State����û��ʵ����������ô���������Ŀ��Թ���ͬһ��State���󣬴Ӷ���ʡ��������</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<h3 id="����¼-State"><a href="#����¼-State" class="headerlink" title="����¼(State)"></a>����¼(State)</h3><p><span id = "Menmento"></span></p>
<ul>
<li><strong>����</strong><ul>
<li>���������������У�ĳЩ�����״̬��ת�������У���������ĳ����Ҫ����������ܹ����ݵ�����֮ǰ����ĳ����ʱ��״̬�����ʹ��һЩ���нӿ�������������õ������״̬����ᱩ¶�����ʵ��ϸ�ڡ�</li>
<li>���ʵ�ֶ�I�Ͱ�״̬�����ñ�����ָ�����ͬʱ�ֲ�����˶��ƻ��������ķ�װ�ԡ�</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Memento</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> state;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Memento(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s) : state(s) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">getState</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> state; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setState</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s)</span> </span>&#123; state = s; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Originator</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> state;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Originator() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="function">Memento <span class="title">createMomento</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="function">Memento <span class="title">m</span><span class="params">(state)</span></span>;</span><br><span class="line">        <span class="keyword">return</span> m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setMomento</span><span class="params">(<span class="keyword">const</span> Memento &amp;m)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        state = m.getState();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Originator orginator;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//�̻�����״̬���洢������¼</span></span><br><span class="line">    Memento mem = orginator.createMomento();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//...�ı�orginator״̬</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//�ӱ���¼�лָ�</span></span><br><span class="line">    orginator.setMomento(mem);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>�ڲ��ƻ���װ�е�ǰ���£��̻�һ��������ڲ�״̬�����ڶ���֮�Ᵽ�����״̬�������Ժ�Ϳ��Խ��ö���ָ���ԭ�ȱ����״̬��</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C2%BC/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C2%BC1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>����¼��Memento���洢ԭ������Originator��������ڲ�״̬������Ҫʱ�ָ�ԭ����״̬��</li>
<li>Mementoģʽ�ĺ�������Ϣ���أ���Originator��Ҫ�����������Ϣ���������װ�ԡ���ͬʱ����Ҫ��״̬���ֵ���磨Memento����</li>
<li>�����ִ���������ʱ����C#��Java�ȣ��������൱�Ķ������л�֧�֣������������Ч�ʽϸߡ��ֽ�������ȷʵ�ֵ����л�������ʵ��Mementoģʽ��</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<h1 id="���ݽu"><a href="#���ݽu" class="headerlink" title="���ݽṹ"></a>���ݽṹ</h1><p>������һЩ������ڲ������ض������ݽṹ������ÿͻ�����������Щ�ض������ݽṹ����������ƻ�����ĸ��á���ʱ�򣬽���Щ�ض������ݽṹ��װ���ڲ������ⲿ�ṩͳһ�Ľӿڣ���ʵ�����ض����ݽṹ�޹صķ��ʣ���һ����֮��Ч�Ľ��������<br><span id = "Composite"></span></p>
<h3 id="���gʽ-Composite"><a href="#���gʽ-Composite" class="headerlink" title="���ģʽ(Composite)"></a>���ģʽ(Composite)</h3><ul>
<li><strong>����</strong><ul>
<li>������ĳЩ����£��ͻ��������������ڶ�I�Ͱ��������ӵ��ڲ�ʵ�ֽṹ�����������ڲ�ʵ�ֽṹ�����ǳ���ӿڣ��ı仯������ͻ������Ƶ���仯�������˴����ά���ԡ���չ�Եȱ׶ˡ�</li>
<li>��ν����ͻ��˴����븴�ӵĶ��������ṹ������ö��������Լ���ʵ�������ĸ��ӽṹ���Ӷ�ʹ�ÿͻ�����������򵥶���һ�����������ӵ�������</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Component</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">virtual</span> ~Component() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//���ڵ�</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Composite</span> :</span> <span class="keyword">public</span> Component</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">list</span>&lt;Component *&gt; elements;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Composite(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s) : name(s) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(Component *element)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        elements.push_back(element);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">(Component *element)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        elements.remove(element);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//1.process current node</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.process leaf nodes</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;e : elements)</span><br><span class="line">        &#123;</span><br><span class="line">            e-&gt;process(); <span class="comment">//��̬�ĵ���</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Ҷ�ӽڵ�</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Leaf</span> :</span> <span class="keyword">public</span> Component</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Leaf(<span class="built_in">std</span>::<span class="built_in">string</span> s) : name(s) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//process current node</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Invoke</span><span class="params">(Component &amp;c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    c.process();</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Composite <span class="title">root</span><span class="params">(<span class="string">&quot;root&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">Composite <span class="title">treeNode1</span><span class="params">(<span class="string">&quot;treeNode1&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">Composite <span class="title">treeNode2</span><span class="params">(<span class="string">&quot;treeNode2&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">Composite <span class="title">treeNode3</span><span class="params">(<span class="string">&quot;treeNode3&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">Composite <span class="title">treeNode4</span><span class="params">(<span class="string">&quot;treeNode4&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">Leaf <span class="title">leaf1</span><span class="params">(<span class="string">&quot;leaf1&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">Leaf <span class="title">leaf2</span><span class="params">(<span class="string">&quot;leaf2&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    root.add(&amp;treeNode1);</span><br><span class="line">    treeNode1.add(&amp;treeNode2);</span><br><span class="line">    treeNode2.add(&amp;leaf1);</span><br><span class="line"></span><br><span class="line">    root.add(&amp;treeNode3);</span><br><span class="line">    treeNode3.add(&amp;treeNode4);</span><br><span class="line">    treeNode4.add(&amp;leaf2);</span><br><span class="line"></span><br><span class="line">    Invoke(root);</span><br><span class="line">    Invoke(leaf2);</span><br><span class="line">    Invoke(treeNode3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>��������ϳ�<strong>���нṹ</strong>�Ա�ʾ������-���塱�Ĳ�νṹ��Compositeʹ���û��Ե����������϶����ʹ�þ���һ���ԣ��ȶ�����</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%C4%A3%CA%BD1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>Compositeģʽ�������νṹ��ʵ���ձ���ڵĶ����������Ӷ�����һ�Զࡱ�Ĺ�ϵת��λ��һ��һ���Ĺ�ϵ��ʹ�ÿͻ��������<strong>һ�µ�</strong>�����ã���������Ͷ���������������Ĵ������ǵ����Ķ��󣬻�����ϵĶ���������</li>
<li>�����ͻ������븴�ӵĶ��������ṹ��������Composite�ĺ���˼�룬����֮�󣬿ͻ����뽫�봿��ĳ���ӿڡ������Ƕ����������ڲ�ʵ�ֽṹ���������������Ӷ����ܡ�Ӧ�Ա仯����</li>
<li>Compositeģʽ�ھ���ʵ���У������ø������е��Ӷ�����׷�ݣ������������Ƶ���ı������󣬿�ʹ�û��漼��������Ч�ʡ�</li>
</ul>
</li>
</ul>
<p><a href="#%C4%BF%C2%BC">Ŀ¼</a></p>
<p><span id = "Iterator"></span></p>
<h3 id="������-Iterator"><a href="#������-Iterator" class="headerlink" title="������(Iterator)"></a>������(Iterator)</h3><ul>
<li><strong>����</strong><ul>
<li>���������������У����϶����ڲ��ṹ�����仯���졣��������Щ���϶�������ϣ���ڲ���¶���ڲ��ṹ��ͬʱ���������ⲿ�ͻ�����͸���ķ������а�����Ԫ�أ�ͬʱ���֡�͸��������ҲΪ��ͬһ���㷨�ڶ��ּ��϶����Ͻ��в������ṩ�˿��ܡ�</li>
<li>ʹ���������������Щ�������Ƴ���λ������������Ϊ��Ӧ�Ա仯�еļ��϶����ṩ��һ�����ŵķ�ʽ��</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Iterator</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">first</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">isDone</span><span class="params">()</span> <span class="keyword">const</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> T &amp;<span class="title">current</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCollection</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">Iterator&lt;t&gt; <span class="title">GetIterator</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CollectionIterator</span> :</span> <span class="keyword">public</span> Iterator&lt;t&gt;</span><br><span class="line">&#123;</span><br><span class="line">    MyCollection&lt;T&gt; mc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    CollectionIterator(<span class="keyword">const</span> MyCollection&lt;T&gt; &amp;c) : mc(c) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">first</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">next</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isDone</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function">T &amp;<span class="title">current</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyAlgorithm</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    MyCollection&lt;<span class="keyword">int</span>&gt; mc;</span><br><span class="line">    Iterator&lt;<span class="keyword">int</span>&gt; iter = mc.GetIterator();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (iter.first(); iter.isDone(); iter.next())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; iter.current() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģʽ����</strong><ul>
<li>�ṩһ�ַ���˳�����һ���ۺ϶����еĸ���Ԫ�أ����ֲ���¶���ȶ����ö�����ڲ���ʾ��</li>
</ul>
</li>
</ul>
<p><img src="/img/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD1.png" alt="avatar"></p>
<ul>
<li><strong>Ҫ���ܽ�</strong><ul>
<li>�������󣺷���һ���ۺ϶�������ݶ����豩¶�����ڲ���ʾ��</li>
<li>������̬��Ϊ������ͨ�ļ��Ͻṹ�ṩ��һ��ͳһ�Ľӿڣ��Ӷ�֧��ͬ�����㷨�ڲ�ͬ�ļ��Ͻṹ�Ͻ��в�����</li>
<li>�������Ľ�׳�Կڰ��ã�������ͬʱ���ĵ��������ڵļ��Ͻṹ���ᵼ�����⡣</li>
</ul>
</li>
</ul>
<p><span id = "ChainOfResoponsibility"></span></p>
<h3 id="ְ����-Chain-of-Responsibility"><a href="#ְ����-Chain-of-Responsibility" class="headerlink" title="ְ����(Chain of Responsibility)"></a>ְ����(Chain of Responsibility)</h3><h1 id="��Ϊ�仯"><a href="#��Ϊ�仯" class="headerlink" title="��Ϊ�仯"></a>��Ϊ�仯</h1><p><span id = "Comman"></span></p>
<h3 id="����gʽ-Comman"><a href="#����gʽ-Comman" class="headerlink" title="����ģʽ(Comman)"></a>����ģʽ(Comman)</h3><p><span id = "Vistor"></span></p>
<h3 id="������-Vistor"><a href="#������-Vistor" class="headerlink" title="������(Vistor)"></a>������(Vistor)</h3><h1 id="��������-1"><a href="#��������-1" class="headerlink" title="��������"></a>��������</h1><p><span id = "Interpreter"></span></p>
<h3 id="������-Interpreter"><a href="#������-Interpreter" class="headerlink" title="������(Interpreter)"></a>������(Interpreter)</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/19/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" data-id="ckivc48rz0002hs67aggb1ew0" data-title="���ģʽ" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/19/hello-world/" class="article-date">
  <time class="dt-published" datetime="2020-12-19T06:28:33.357Z" itemprop="datePublished">2020-12-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/19/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/19/hello-world/" data-id="ckivc48rn0001hs67gtge4m26" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/12/19/Template%E7%89%B9%E4%BE%8B/">Template特例</a>
          </li>
        
          <li>
            <a href="/2020/12/19/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">���ģʽ</a>
          </li>
        
          <li>
            <a href="/2020/12/19/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2020 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>